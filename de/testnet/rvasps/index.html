<!doctype html><html lang=de class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><meta name=description content="Arbeiten mit rVASPs für die TestNet-Integration"><link rel=icon href=/images/favicon.png type=image/png><title>Roboter-VASPs :: TRISA Dokumentation</title><link href=/css/nucleus.css?1634142196 rel=stylesheet><link href=/css/fontawesome-all.min.css?1634142196 rel=stylesheet><link href=/css/featherlight.min.css?1634142196 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1634142196 rel=stylesheet><link href=/css/auto-complete.css?1634142196 rel=stylesheet><link href=/css/theme.css?1634142196 rel=stylesheet><link href=/css/theme-blue.css?1634142196 rel=stylesheet><link href=/css/variant.css?1634142196 rel=stylesheet><link href=/css/print.css?1634142196 rel=stylesheet media=print><script src=/js/jquery.min.js?1634142196></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/de/testnet/rvasps/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/de/ style="color:#3d414d;font-family:novacento sans wide,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:700;margin-top:-2px"><img src=../../images/trisa-docs-logo.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Suchen...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/js/lunr.min.js?1634142196></script><script src=/js/auto-complete.js?1634142196></script><script>var index_url="/de/index.json",root_url="/",baseUri=root_url.replace(/\/$/,'')</script><script src=/js/search.js?1634142196></script></div><div id=homelinks><ul><li><a class=padding href=/de/><i class="fas fa-home"></i> Startseite</a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/de/integration/ title=Integrationsübersicht class=dd-item><a href=/de/integration/>Integrationsübersicht</a><ul></ul></li><li data-nav-id=/de/testnet/ title="Das TRISA TestNet" class="dd-item parent"><a href=/de/testnet/>Das TRISA TestNet</a><ul><li data-nav-id=/de/testnet/rvasps/ title=Roboter-VASPs class="dd-item active"><a href=/de/testnet/rvasps/>Roboter-VASPs</a></li></ul></li><li data-nav-id=/de/gds/ title="Der Directory Service" class=dd-item><a href=/de/gds/>Der Directory Service</a><ul><li data-nav-id=/de/gds/registration/ title=Registrieren class=dd-item><a href=/de/gds/registration/>Registrieren</a></li><li data-nav-id=/de/gds/sectigo/ title=Sectigo class=dd-item><a href=/de/gds/sectigo/>Sectigo</a></li></ul></li><li data-nav-id=/de/contributing/ title=Beitragen class=dd-item><a href=/de/contributing/>Beitragen</a><ul><li data-nav-id=/de/contributing/license/ title=Lizenz class=dd-item><a href=/de/contributing/license/>Lizenz</a></li></ul></li><li data-nav-id=/de/reference/ title=Referenz class=dd-item><a href=/de/reference/>Referenz</a><ul><li data-nav-id=/de/reference/faq/ title=FAQ class=dd-item><a href=/de/reference/faq/>FAQ</a></li><li data-nav-id=/de/reference/glossary/ title=Glossar class=dd-item><a href=/de/reference/glossary/>Glossar</a></li></ul></li></ul><div id=shortcuts><div class=nav-title></div><ul><li><a class=padding href=https://github.com/trisacrypto/trisa><i class="fab fa-fw fa-github"></i> Version v1beta1</a></li></ul></div><div id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://trisa.dev/testnet/rvasps/>English</option><option id=de value=https://trisa.dev/de/testnet/rvasps/ selected>Deutsch</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></div><div id=footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></nav><div id=body><div id=overlay></div><div class="padding highlightable"><div id=top-bar><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/de/><span itemprop=name></span></a>></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/de/testnet/><span itemprop=name>Das TRISA TestNet</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/de/testnet/rvasps/ aria-disabled=true><span itemprop=name>Roboter-VASPs</span></a></li></ol></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#erste-schritte-mit-rvasps>Erste Schritte mit rVASPs</a><ul><li><a href=#präliminarien>Präliminarien</a></li><li><a href=#auslösen-eines-rvasp-zum-senden-einer-nachricht>Auslösen eines rVASP zum Senden einer Nachricht</a></li><li><a href=#senden-einer-trisa-nachricht-an-einen-rvasp>Senden einer TRISA-Nachricht an einen rVASP</a></li></ul></li></ul></nav></div></div></div><div id=head-tags></div><main id=body-inner><h1>Roboter-VASPs</h1><p>Das TestNet beherbergt drei praktische &ldquo;Roboter-VASP&rdquo;-Dienste (rVASPs), die die Integration und Prüfung mit dem TRISA TestNet erleichtern. Diese Dienste sind Folgende:</p><ul><li>Alice (<code>api.alice.vaspbot.net:443</code>): die primäre Integration, die rVASP verwendet, um TRISA-Meldungen auszulösen und zu empfangen.</li><li>Bob (<code>api.bob.vaspbot.net:443</code>): ein Demo-RVASP, um den Austausch mit Alice zu sehen.</li><li>Evil (<code>api.evil.vaspbot.net:443</code>): ein &ldquo;böswilliger&rdquo; rVASP, der kein TRISA-TestNet-Mitglied ist und zum Testen nicht authentifizierter Interaktionen verwendet wird.</li></ul><p>Hinweis: Die rVASPs sind derzeit in erster Linie für Demos konfiguriert, und es wird daran gearbeitet, sie für Integrationszwecke robuster zu machen; bitte schauen Sie regelmäßig in dieser Dokumentation nach, ob es Änderungen gibt. Wenn Sie irgendwelche Fehler im rVASP-Code oder im Verhalten bemerken, <a href=https://github.com/trisacrypto/testnet/issues>reichen Sie bitte ein Anliegen ein</a>.</p><h2 id=erste-schritte-mit-rvasps>Erste Schritte mit rVASPs</h2><p>Es gibt zwei Möglichkeiten, wie Sie die rVASPs für die Entwicklung Ihres TRISA-Dienstes nutzen können:</p><ol><li>Sie können den rVASP veranlassen, eine TRISA-Austauschmeldung an Ihren Dienst zu senden.</li><li>Sie können eine TRISA-Meldung an den rVASP mit einem gültigen (oder ungültigen) rVASP-Kunden senden.</li></ol><p>Die rVASP haben eine eingebaute Datenbank mit gefälschten Kunden mit gefälschten Wallet-Adressen. Ihre Antwort auf TRISA-Meldungen oder auf eine ausgelöste Überweisung setzt voraus, dass der Auftraggeber/Begünstigte für den rVASP gültig ist. Handelt es sich bei der Wallet-Adresse des Kunden beispielsweise um eine gültige Adresse von Alice und ist Alice der begünstigte Kunde, antwortet der rVASP mit den gefälschten KYC-Daten des Kunden; ist dies nicht der Fall, gibt er einen TRISA-Fehlercode zurück.</p><p>Die folgende Tabelle der &ldquo;Kunden&rdquo; für Alice, Bob und Evil kann als Referenz für die Interaktion mit jedem rVASP verwendet werden:</p><table><thead><tr><th>VASP</th><th>&ldquo;Crypto Wallet&rdquo;</th><th>Email</th></tr></thead><tbody><tr><td>api.bob.vaspbot.net</td><td>18nxAxBktHZDrMoJ3N2fk9imLX8xNnYbNh</td><td><a href=mailto:robert@bobvasp.co.uk>robert@bobvasp.co.uk</a></td></tr><tr><td>api.bob.vaspbot.net</td><td>1LgtLYkpaXhHDu1Ngh7x9fcBs5KuThbSzw</td><td><a href=mailto:george@bobvasp.co.uk>george@bobvasp.co.uk</a></td></tr><tr><td>api.bob.vaspbot.net</td><td>14WU745djqecaJ1gmtWQGeMCFim1W5MNp3</td><td><a href=mailto:larry@bobvasp.co.uk>larry@bobvasp.co.uk</a></td></tr><tr><td>api.bob.vaspbot.net</td><td><strong>1Hzej6a2VG7C8iCAD5DAdN72cZH5THSMt9</strong></td><td><a href=mailto:fred@bobvasp.co.uk>fred@bobvasp.co.uk</a></td></tr><tr><td>api.alice.vaspbot.net</td><td><strong>19nFejdNSUhzkAAdwAvP3wc53o8dL326QQ</strong></td><td><a href=mailto:sarah@alicevasp.us>sarah@alicevasp.us</a></td></tr><tr><td>api.alice.vaspbot.net</td><td>1ASkqdo1hvydosVRvRv2j6eNnWpWLHucMX</td><td><a href=mailto:mary@alicevasp.us>mary@alicevasp.us</a></td></tr><tr><td>api.alice.vaspbot.net</td><td>1MRCxvEpBoY8qajrmNTSrcfXSZ2wsrGeha</td><td><a href=mailto:alice@alicevasp.us>alice@alicevasp.us</a></td></tr><tr><td>api.alice.vaspbot.net</td><td>14HmBSwec8XrcWge9Zi1ZngNia64u3Wd2v</td><td><a href=mailto:jane@alicevasp.us>jane@alicevasp.us</a></td></tr><tr><td>api.evil.vaspbot.net</td><td><strong>1AsF1fMSaXPzz3dkBPyq81wrPQUKtT2tiz</strong></td><td><a href=mailto:gambler@evilvasp.gg>gambler@evilvasp.gg</a></td></tr><tr><td>api.evil.vaspbot.net</td><td>1PFTsUQrRqvmFkJunfuQbSC2k9p4RfxYLF</td><td><a href=mailto:voldemort@evilvasp.gg>voldemort@evilvasp.gg</a></td></tr><tr><td>api.evil.vaspbot.net</td><td>172n89jLjXKmFJni1vwV5EzxKRXuAAoxUz</td><td><a href=mailto:launderer@evilvasp.gg>launderer@evilvasp.gg</a></td></tr><tr><td>api.evil.vaspbot.net</td><td>182kF4mb5SW4KGEvBSbyXTpDWy8rK1Dpu</td><td><a href=mailto:badnews@evilvasp.gg>badnews@evilvasp.gg</a></td></tr></tbody></table><p>Beachten Sie, dass alle rVASP-Daten mit einem Faker-Tool erzeugt wurden, um realistische/konsistente Testdaten und Vorrichtungen zu erzeugen, und dass sie völlig fiktiv sind. Die Datensätze für Alice VASP (ein gefälschtes US-Unternehmen) befinden sich beispielsweise hauptsächlich in Nordamerika usw.</p><p>Wenn Sie ein Traveler-Kunde sind, haben die fettgedruckten Adressen oben einige Attributionsdaten, die mit ihnen verbunden sind, und sie sind ein guter Kandidat für Traveler-basierte rVASP-Interaktionen.</p><h3 id=präliminarien>Präliminarien</h3><p>In dieser Dokumentation wird davon ausgegangen, dass Sie einen Dienst haben, der den neuesten <code>TRISANetwork</code>-Dienst ausführt, und dass er im TRISA TestNet registriert ist und TestNet-Zertifikate korrekt installiert hat. Weitere Informationen finden Sie in der <a href=/de/integration/>TRISA-Integrationsübersicht</a>. <strong>WARNUNG</strong>: Die rVASPs nehmen nicht am TRISA-Produktionsnetz teil, sie antworten nur auf verifizierte TRISA TestNet mTLS-Verbindungen.</p><p>Um mit der rVASP-API zu interagieren, können Sie entweder:</p><ol><li>das CLI-Tool &ldquo;rvasp&rdquo; verwenden</li><li>den rVASP-Protokollpuffer und direkte Interaktion mit der API verwenden</li></ol><p>Um das CLI-Tool zu installieren, laden Sie entweder die ausführbare Datei <code>rvasp</code> für die entsprechende Architektur von der [TestNet-Releases-Seite] (<a href=https://github.com/trisacrypto/testnet/releases>https://github.com/trisacrypto/testnet/releases</a>) herunter, klonen Sie [das TestNet-Repository] (<a href=https://github.com/trisacrypto/testnet/>https://github.com/trisacrypto/testnet/</a>) und erstellen Sie das Binärprogramm <code>cmd/rvasp</code> oder installieren Sie es mit <code>go get</code> wie folgt:</p><pre><code>$ go get github.com/trisacrypto/testnet/...
</code></pre><p>Um die <a href=https://github.com/trisacrypto/testnet/tree/main/proto/rvasp/v1>rVASP Protocol Buffer</a> zu verwenden, klonen Sie sie oder laden Sie sie aus dem TestNet-Repository herunter und kompilieren Sie sie mit <code>protoc</code> in Ihre bevorzugte Sprache.</p><h3 id=auslösen-eines-rvasp-zum-senden-einer-nachricht>Auslösen eines rVASP zum Senden einer Nachricht</h3><p>Die rVASP-Admin-Endpunkte werden für die direkte Interaktion mit dem rVASP zu Entwicklungs- und Integrationszwecken verwendet. Beachten Sie, dass dieser Endpunkt sich vom TRISA-Endpunkt unterscheidet, der oben beschrieben wurde.</p><ul><li>Alice: <code>admin.alice.vaspbot.net:443</code></li><li>Bob: <code>admin.bob.vaspbot.net:443</code></li><li>Evil: <code>admin.evil.vaspbot.net:443</code></li></ul><p>Um das Kommandozeilentool zum Auslösen einer Nachricht zu verwenden, führen Sie den folgenden Befehl aus:</p><pre><code>$ rvasp transfer -e admin.alice.vaspbot.net:443 \
        -a mary@alicevasp.us \
        -d 0.3 \
        -B trisa.example.com \
        -E
</code></pre><p>Diese Nachricht sendet dem Alice rVASP eine Nachricht mit dem Flag <code>-e</code> oder <code>--endpoint</code> und gibt mit dem Flag <code>-a</code> oder <code>--account</code> an, dass das Ursprungskonto &ldquo;<a href=mailto:mary@alicevasp.us>mary@alicevasp.us</a>&rdquo; sein soll. Anhand des Ursprungskontos wird bestimmt, welche IVMS101-Daten an den Empfänger gesendet werden sollen. Das <code>-d</code> oder <code>--amount</code> Flag gibt den zu sendenden Betrag an &ldquo;AliceCoin&rdquo; an.</p><p>Die nächsten beiden Teile sind entscheidend. Das <code>-E</code> oder <code>--external-demo</code> Flag sagt dem rVASP, dass er eine Anfrage an Ihren Dienst stellen soll, anstatt einen Demo-Austausch mit einem anderen rVASP durchzuführen. Dieses Flag ist erforderlich! Schließlich gibt das <code>-B</code> oder <code>--beneficiary-vasp</code> Flag an, wohin der rVASP die Anfrage senden wird. Dieses Feld sollte im TRISA-TestNet-Verzeichnisdienst nachgeschlagen werden können; z. B. sollte es Ihr allgemeiner Name oder der Name Ihres VASP sein, wenn dieser durchsuchbar ist.</p><p>Beachten Sie, dass Sie die Umgebungsvariablen <code>$RVASP_ADDR</code> und <code>$RVASP_CLIENT_ACCOUNT</code> setzen können, um die Flags <code>-e</code> bzw. <code>-a</code> festzulegen.</p><p>Um die Protokollpuffer direkt zu nutzen, verwenden Sie den <code>TRISAIntegration</code>-Dienst <code>Transfer</code> RPC mit dem folgenden <code>TransferRequest</code>:</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span>
    <span class=nt>&#34;account&#34;</span><span class=p>:</span> <span class=s2>&#34;mary@alicevasp.us&#34;</span><span class=p>,</span>
    <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mf>0.3</span><span class=p>,</span>
    <span class=nt>&#34;beneficiary_vasp&#34;</span><span class=p>:</span> <span class=s2>&#34;trisa.example.com&#34;</span><span class=p>,</span>
    <span class=nt>&#34;check_beneficiary&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
    <span class=nt>&#34;external_demo&#34;</span><span class=p>:</span> <span class=kc>true</span>
<span class=p>}</span>
</code></pre></div><p>Diese Werte haben genau die gleiche Spezifikation wie die im Befehlszeilenprogramm.</p><h3 id=senden-einer-trisa-nachricht-an-einen-rvasp>Senden einer TRISA-Nachricht an einen rVASP</h3><p>Der rVASP erwartet eine <code>trisa.data.generic.v1beta1.Transaction</code> als Transaktions-Payload und einen <code>ivms101.IdentityPayload</code> als Identitäts-Payload. Die Begünstigten-Informationen der Identitäts-Payload müssen nicht ausgefüllt werden, rVASP antwortet mit der Ausfüllung des Begünstigten, die Identitäts-Payload sollte jedoch nicht null sein. Es wird empfohlen, einige gefälschte Identitätsdaten anzugeben, um die Vorteile der rVASP-Parsing- und Validierungsbefehle zu nutzen.</p><p>Vergewissern Sie sich, dass Sie in Ihrer Transaktionsnutzlast eine begünstigte Wallet angeben, die mit den rVASP-Begünstigten aus der obigen Tabelle übereinstimmt, z. B. verwenden Sie:</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span>
    <span class=nt>&#34;txid&#34;</span><span class=p>:</span> <span class=s2>&#34;1234&#34;</span><span class=p>,</span>
    <span class=nt>&#34;originator&#34;</span><span class=p>:</span> <span class=s2>&#34;anydatahereisfine&#34;</span><span class=p>,</span>
    <span class=nt>&#34;beneficiary&#34;</span><span class=p>:</span> <span class=s2>&#34;1MRCxvEpBoY8qajrmNTSrcfXSZ2wsrGeha&#34;</span><span class=p>,</span>
    <span class=nt>&#34;amount&#34;</span><span class=p>:</span> <span class=mf>0.3</span><span class=p>,</span>
    <span class=nt>&#34;network&#34;</span><span class=p>:</span> <span class=s2>&#34;TestNet&#34;</span><span class=p>,</span>
    <span class=nt>&#34;timestamp&#34;</span><span class=p>:</span> <span class=s2>&#34;2021-06-14T16:41:52-05:00&#34;</span>
<span class=p>}</span>
</code></pre></div><p>Sie können einen beliebigen <code>txid</code>- oder <code>originator</code>-String angeben, und die Felder <code>network</code> und <code>timestamp</code> werden ignoriert.</p><p>Erstellen Sie einen versiegelten Umschlag, indem Sie entweder den Verzeichnisdienst oder den direkten Schlüsselaustausch verwenden, um die öffentlichen RSA-Schlüssel des rVASP abzurufen, und verwenden Sie <code>AES256-GCM</code> und <code>HMAC-SHA256</code> als Umschlagkryptographie. Anschließend wird der versiegelte Umschlag mit dem RPC-Dienst <code>Transfer</code> des <code>TRISANetwork</code>-Dienstes an den rVASP gesendet.</p><p>TO-DO: Bald wird das <code>trisa</code> Kommandozeilenprogramm verfügbar sein. Wir werden hier angeben, wie man das CLI-Programm verwendet, um eine Nachricht zu senden, sobald es veröffentlicht ist.</p><footer class=footline></footer></main></div><div id=navigation><a class="nav nav-prev" href=/de/testnet/ title="Das TRISA TestNet"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/de/gds/ title="Der Directory Service"><i class="fa fa-chevron-right"></i></a></div></div><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1634142196></script><script src=/js/perfect-scrollbar.min.js?1634142196></script><script src=/js/perfect-scrollbar.jquery.min.js?1634142196></script><script src=/js/jquery.svg.pan.zoom.js?1634142196></script><script src=/js/featherlight.min.js?1634142196></script><script src=/js/modernizr.custom-3.6.0.js?1634142196></script><script src=/js/mermaid.min.js?1634142196></script><script>typeof mermaid!='undefined'&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script><script src=/js/relearn.js?1634142196></script></body></html>