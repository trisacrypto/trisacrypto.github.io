<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Registration - TRISA Documentation</title><meta name=description content="Registering a VASP with the Directory Service"><meta name=generator content="Hugo 0.83.1"><link href=https://trisa.dev//index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://trisa.dev/gds/registration/><link rel=stylesheet href=https://trisa.dev/css/theme.min.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://trisa.dev/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://trisa.dev/js/bundle.js></script><style>:root{}</style><meta property="og:title" content="Registration"><meta property="og:description" content="Registering a VASP with the Directory Service"><meta property="og:type" content="article"><meta property="og:url" content="https://trisa.dev/gds/registration/"><meta property="article:section" content="gds"><meta property="article:published_time" content="2021-07-22T09:21:59-04:00"><meta property="article:modified_time" content="2021-07-22T09:21:59-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Registration"><meta name=twitter:description content="Registering a VASP with the Directory Service"><meta itemprop=name content="Registration"><meta itemprop=description content="Registering a VASP with the Directory Service"><meta itemprop=datePublished content="2021-07-22T09:21:59-04:00"><meta itemprop=dateModified content="2021-07-22T09:21:59-04:00"><meta itemprop=wordCount content="548"><meta itemprop=keywords content></head><body><div class=container><header><h1>TRISA Documentation</h1><span class=version>Version v1beta1</span><a href=https://github.com/trisacrypto/trisa class=github><i class="fab fa-github"></i></a></header><div class=global-menu><nav><ul><li><a href=/>Documentation</a></li><li><a href=https://trisa.io/trisa-whitepaper/>White Paper</a></li><li><a href=https://vaspdirectory.net/>Directory</a></li><li><a href=https://vaspbot.net/>Demo</a></li></ul></nav></div><div class=content-container><main><h1>Registration</h1><p>To join the TRISA or TestNet networks, you must register with the TRISA Global Directory Service (GDS) or one of the jurisdiction-specific directory services. Registering with the directory service engages two workflows:</p><ol><li>A KYV review process to ensure the network maintains trusted membership</li><li>Certificate issuance for mTLS authentication in the network</li></ol><p>Coming soon: more details on the registration form, email verification, and the review process.</p><h2 id=certificate-issuance>Certificate Issuance</h2><p>There are currently two mechanisms to receive mTLS certificates from the GDS when your registration has been reviewed and approved.</p><ol><li>Emailed PKCS12 Encrypted Certificates</li><li>Certificate Signing Request (CSR)</li></ol><p>You must select one of these options <em>when you submit</em> your registration; after your registration is submitted you will not be able to switch between options.</p><h3 id=pkcs12-encrypted-email-attachment>PKCS12 Encrypted Email Attachment</h3><p>The first mechanism is the easiest — simply select the email option during registration and omit the CSR fields. If the registration form is valid, the GDS will return a PKCS12 password. <strong>Do not lose this password, it is the only time it is made available during the certificate issuance process</strong>.</p><p>Upon review approval, the GDS CA will generate a complete certificate including private keys and encrypt it using the PKCS12 password. After registering the public keys in the directory service, the GDS will then email the encrypted certificate as a ZIP file to the technical contact, or first available contact on the registration form.</p><p>After unzipping the email attachment, you should find a file named <code>&lt;common_name>.p12</code>; you can decrypt this file to extract the certificates as follows:</p><pre><code>$ openssl pkcs12 -in &lt;common_name&gt;.p12 -out &lt;common_name&gt;.pem -nodes
</code></pre><p>You can also directly use the .zip file without decrypting or extracting it via the <a href=https://pkg.go.dev/github.com/trisacrypto/trisa/pkg/trust#NewSerializer><code>github.com/trisacrypto/trisa/pkg/trust</code></a> module.</p><h3 id=certificate-signing-requests>Certificate Signing Requests</h3><p>An alternative to certificate creation is to upload a certificate signing request (CSR). This mechanism is often preferable because it means that no private key material has to be transmitted accross the network and the private key can remain on secure hardware.</p><p>To generate a CSR using <code>openssl</code> on the command line, first create a configuration file named <code>trisa.conf</code> in your current working directory, replacing <code>example.com</code> with the domain you plan to host your TRISA endpoint on:</p><pre><code class=language-conf data-lang=conf>[req]
distinguished_name = dn_req
req_extensions = v3ext_req
prompt = no
default_bits = 4096
[dn_req]
CN = example.com
O = [Organization]
L = [City]
ST = [State or Province (fully spelled out, no abbreviations)]
C = [2 digit country code]
[v3ext_req]
basicConstraints = CA:FALSE
keyUsage = digitalSignature, keyEncipherment, nonRepudiation
extendedKeyUsage = clientAuth, serverAuth
subjectAltName = @alt_names
[alt_names]
DNS.1 = example.com
</code></pre><p>Please carefully fill out the configuration for your certificate, this information must be correct and cannot be changed without reissuing the certificate. Also make sure that there are no spaces after the entries in the configuration!</p><p>Then run the following command, replacing <code>example.com</code> with the domain name you will be using as your TRISA endpoint:</p><pre><code>$ openssl req -new -newkey rsa:4096 -nodes -sha384 -config trisa.conf \
  -keyout example.com.key -out example.com.csr
</code></pre><p>Your private key is now stored in <code>example.com.key</code> — <strong>keep this private key safe</strong> — it is required for mTLS connections in your mTLS service and establishes trust on the TRISA network.</p><p>The <code>example.com.csr</code> file contains your certificate signing request. Copy and paste the contents of this file including the <code>-----BEGIN CERTIFICATE REQUEST-----</code> and <code>-----END CERTIFICATE REQUEST-----</code> into your registration request.</p><div class=edit-meta>Last updated on July 22, 2021<br><a href=https://github.com/trisacrypto/trisa/edit/main/docs/content/gds/registration.md class=edit-page><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://trisa.dev/gds/ title="Directory Service"><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Directory Service</a>
<a class="nav nav-next" href=https://trisa.dev/gds/sectigo/ title=Sectigo>Next - Sectigo <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://trisa.dev/>Home</a></li><li><a href=https://trisa.dev/integration/>Integration Overview</a></li><li class=has-sub-menu><a href=https://trisa.dev/testnet/>TestNet<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://trisa.dev/testnet/rvasps/>Robot VASPs</a></li></ul></li><li class="parent has-sub-menu"><a href=https://trisa.dev/gds/>Directory Service<span class="mark opened">-</span></a><ul class=sub-menu><li class=active><a href=https://trisa.dev/gds/registration/>Registration</a></li><li><a href=https://trisa.dev/gds/sectigo/>Sectigo</a></li></ul></li><li class=has-sub-menu><a href=https://trisa.dev/contributing/>Contributing<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://trisa.dev/contributing/license/>License</a></li></ul></li><li class=has-sub-menu><a href=https://trisa.dev/reference/>Reference<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://trisa.dev/reference/faq/>FAQ</a></li><li><a href=https://trisa.dev/reference/glossary/>Glossary</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>